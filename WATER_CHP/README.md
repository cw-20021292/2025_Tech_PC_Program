# 수처리 시스템 모니터링 프로그램

파이썬으로 구현한 윈도우용 수처리 시스템 실시간 모니터링 프로그램입니다.

## 주요 기능

### 📊 **실시간 모니터링**
- **실시간 그래프**: 온도/압력 센서 데이터를 실시간 그래프로 표시
- **밸브 상태**: 1~10번 밸브의 OPEN/CLOSE 상태를 색상으로 표시
- **시스템 상태**: 컴프레서, 히터(트라이악/릴레이), 냉매전환밸브 상태 모니터링
- **모듈화 설계**: 통신 모듈과 GUI 모듈을 분리하여 유지보수 용이

### 🔌 **통신 기능**
- **포트 자동 탐색**: 현재 사용 가능한 시리얼 포트를 자동으로 탐색
- **통신속도 선택**: 9600, 19200, 38400, 57600, 115200 bps 지원
- **스레드 기반 통신**: 별도 스레드에서 데이터 송수신 처리로 UI 블로킹 방지
- **데이터 파싱**: 다양한 패턴의 시리얼 데이터를 자동으로 파싱하여 상태 업데이트

### 🎨 **사용자 인터페이스**
- **직관적 레이아웃**: 4개 영역으로 구분된 효율적인 화면 구성
- **실시간 업데이트**: 모든 상태 정보가 실시간으로 업데이트
- **최소화된 통신창**: 통신 관련 기능을 우하단에 최소화하여 배치

## 설치 및 실행

1. **필요한 라이브러리 설치**:
   ```bash
   pip install -r requirements.txt
   ```

2. **프로그램 실행**:
   ```bash
   py gui_main.py
   ```

## 사용 방법

1. **포트 선택**: 드롭다운에서 사용할 시리얼 포트 선택
2. **통신속도 설정**: 원하는 통신속도 선택 (기본값: 9600 bps)
3. **연결**: "연결" 버튼 클릭하여 시리얼 포트에 연결
4. **데이터 송신**: 
   - 텍스트 입력 후 "송신" 버튼 클릭 또는 Enter 키 입력
   - HEX 모드 체크 시 16진수 데이터 송신 가능 (예: "48656C6C6F")
5. **연결해제**: "연결해제" 버튼 클릭

## 프로그램 구조

### 📁 **파일 구조**
- `gui_main.py`: 메인 GUI 모듈
- `communication.py`: 시리얼 통신 모듈
- `test_data_generator.py`: 테스트용 데이터 생성기
- `serial_communication.py`: 기존 통합 버전 (레거시)

### 🖥️ **화면 레이아웃**
```
┌─────────────────────────────┬─────────────────┐
│     좌상단: 실시간 그래프        │                 │
│    (온도/압력 센서 데이터)       │                 │
├─────────────┬───────────────┼─────────────────┤
│ 좌하단: 밸브상태 │ 가운데하단: 시스템상태 │ 우하단: 통신제어   │
│   (V1~V10)   │ (컴프레서/히터/밸브) │  (최소화)      │
└─────────────┴───────────────┴─────────────────┘
```

### 🔧 **스레드 구조**
- **메인 스레드**: GUI 업데이트 및 사용자 인터랙션
- **통신 수신 스레드**: 시리얼 데이터 수신
- **통신 송신 스레드**: 시리얼 데이터 송신
- **데이터 모니터링 스레드**: 수신 데이터 처리 및 파싱

## 로그 색상 구분

- **파란색**: 송신 데이터
- **초록색**: 수신 데이터  
- **빨간색**: 오류 메시지
- **보라색**: 시스템 메시지
- **검은색**: 일반 정보

## 주의사항

- 시리얼 포트 사용 전 다른 프로그램에서 해당 포트를 사용하고 있지 않은지 확인
- 프로그램 종료 시 자동으로 연결이 해제됩니다
- HEX 모드에서는 짝수 개의 16진수 문자를 입력해야 합니다
